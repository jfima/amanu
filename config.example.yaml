# Amanu Configuration Example
# Copy this file to config.yaml and adjust settings as needed.
# API keys should be stored in .env file (copy .env.example to .env)
# Model definitions are in amanu/providers/{provider}/defaults.yaml

# --- Stage Configuration ---
# Define which provider and model to use for each processing stage
transcribe:
  provider: gemini           # Provider for transcription: whisperx, whisper, gemini, claude, zai
  model: gemini-2.0-flash    # Model name (must exist in provider's defaults.yaml)

refine:
  provider: gemini           # Provider for refinement: gemini, claude, zai
  model: gemini-2.0-flash    # Model name (must exist in provider's defaults.yaml)

# --- Provider Overrides ---
# Override default provider settings if needed.
# Default settings are loaded from amanu/providers/{provider}/defaults.yaml
# Only specify settings here if you need to override the defaults.
providers:
  # WhisperX - Local GPU-accelerated transcription with speaker diarization
  whisperx:
    # python_executable: python3.11  # Python executable with WhisperX installed
    # device: cuda                   # Device: 'cuda', 'cpu'
    # compute_type: float16          # Compute type: 'float16', 'int8', 'float32'
    # batch_size: 16                 # Batch size for processing
    # language: Russian              # Override language (default: auto-detect)
    # enable_diarization: true       # Enable speaker diarization
    # HF_TOKEN should be in .env for diarization

  # Whisper.cpp - Local CPU-optimized transcription
  # whisper:
  #   whisper_home: /path/to/whisper.cpp  # Path to whisper.cpp installation

  # Gemini - Google's AI models (API key in .env as GEMINI_API_KEY)
  # gemini:
  #   # All settings loaded from amanu/providers/gemini/defaults.yaml
  #   # See defaults.yaml for available models and their capabilities

  # Claude - Anthropic's AI models (API key in .env as CLAUDE_API_KEY)
  # claude:
  #   # All settings loaded from amanu/providers/claude/defaults.yaml

  # Z.AI - Zhipu AI models (API key in .env as ZAI_API_KEY)
  # zai:
  #   # All settings loaded from amanu/providers/zai/defaults.yaml

# --- General Settings ---
debug: false  # Debug mode: true = keep all intermediate files, false = cleanup after processing

# --- Processing Configuration ---
processing:
  # Language for processing
  # Options: 'auto' for auto-detection, or specific language code (e.g., 'Russian', 'English')
  language: auto
  
  # Audio compression mode
  # Options:
  #   - 'original': Keep original audio format
  #   - 'compressed': Convert to OGG Opus (smaller size, good quality)
  #   - 'optimized': Aggressive compression (smallest size)
  compression_mode: compressed
  
  # Output organization mode
  # Options:
  #   - 'timeline': Organize by date/time
  #   - 'zettelkasten': Organize by topic/tags
  shelve_mode: timeline
  
  # Output artifacts configuration
  # Define what output files to generate
  output:
    artifacts:
      # Markdown outputs
      - plugin: markdown
        template: default      # Standard markdown transcript
        filename: transcript
      
      - plugin: markdown
        template: concise      # Concise summary
        filename: summary
      
      # PDF output
      - plugin: pdf
        template: classic      # Classic PDF report
        filename: report
      
      # Subtitle file
      - plugin: srt
        template: standard     # Standard SRT subtitles
        filename: subtitles
      
      # Text outputs
      - plugin: txt
        template: default      # Plain text transcript
        filename: transcript
      
      # Other available templates:
      # - template: script       # Script format (speaker: text)
      # - template: timestamped  # Timestamped format

# --- Directory Paths ---
# Paths can be absolute or relative to the project root
paths:
  input: ./scribe-in       # Input files directory
  work: ./scribe-work      # Working directory for intermediate files
  results: ./scribe-out    # Output directory for final results

# --- Cleanup Configuration ---
# Automatic cleanup of old jobs from work directory
cleanup:
  failed_jobs_retention_days: 7      # Days to keep failed jobs
  completed_jobs_retention_days: 1   # Days to keep completed jobs
  auto_cleanup_enabled: true         # Enable automatic cleanup
